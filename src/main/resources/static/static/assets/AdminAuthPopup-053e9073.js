import{_ as l,s as i,o as p,a as u,b as o,l as d,p as m,t as h,q as c,u as _}from"./index-f9d7a4ee.js";import{a as g}from"./axios-aba6f0e0.js";const w={name:"AdminAuthPopup",data(){return{username:"",password:"",showError:!1,message:"",errorMessage:"Something went wrong",closethis:!1}},methods:{authenticateAdmin(r){r.preventDefault();const e={username:this.username,password:this.password};g.post("http://localhost:8080/admin/auth/signin",e,{}).then(a=>{a.status===200?(this.showError=!1,this.message="Signup accepted",this.username="",this.password="",i.push("/admin_panel"),this.$nextTick(()=>{this.closePopupAndNavigate()})):(this.message=this.errorMessage,this.showError=!0,this.username="",this.password="")}).catch(a=>{console.error("Error:",a),this.message=this.errorMessage,this.showError=!0})},closePopup(){i.back()},closePopupAndNavigate(){const r=document.getElementById("admin_popup");r.style.display="none",i.push("/admin_panel")}}},f={id:"admin_popup",class:"admin-auth-popup"},A=o("button",{type:"submit",id:"admin_auth"},"Authenticate",-1),y={key:0,class:"error-message"};function v(r,e,a,x,t,n){return p(),u("div",f,[o("form",{onSubmit:e[3]||(e[3]=_((...s)=>n.authenticateAdmin&&n.authenticateAdmin(...s),["prevent"]))},[o("button",{onClick:e[0]||(e[0]=(...s)=>n.closePopup&&n.closePopup(...s)),class:"closing_popup"},"X"),d(o("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=s=>t.username=s),placeholder:"Admin username",required:""},null,512),[[m,t.username]]),d(o("input",{type:"password","onUpdate:modelValue":e[2]||(e[2]=s=>t.password=s),placeholder:"Admin password",required:""},null,512),[[m,t.password]]),A,t.showError?(p(),u("span",y,h(t.errorMessage),1)):c("",!0)],32)])}const b=l(w,[["render",v]]);export{b as default};
