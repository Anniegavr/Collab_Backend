import{x as f,y as je,z as _,A as Oe,B as L,C as K,r as D,D as Ve,E as h,G as Ce,H as Pe,I as ee,J as te,K as re,_ as Ae,s as ne,e as Ne,o as S,a as T,b as x,l as N,p as z,t as W,q as Z,f as ze,w as Le,j as Se}from"./index-f9d7a4ee.js";import{a as Te}from"./axios-aba6f0e0.js";function F(e){return typeof e=="function"}function Q(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function B(e){return F(e.$validator)?Object.assign({},e):{$validator:e}}function ce(e){return typeof e=="object"?e.$valid:e}function de(e){return e.$validator||e}function Ie(e,t){if(!Q(e))throw new Error(`[@vuelidate/validators]: First parameter to "withParams" should be an object, provided ${typeof e}`);if(!Q(t)&&!F(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const r=B(t);return r.$params=Object.assign({},r.$params||{},e),r}function Fe(e,t){if(!F(e)&&typeof f(e)!="string")throw new Error(`[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided ${typeof e}`);if(!Q(t)&&!F(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const r=B(t);return r.$message=e,r}function ke(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=B(e);return Object.assign({},r,{$async:!0,$watchTargets:t})}function De(e){return{$validator(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return f(t).reduce((i,p,o)=>{const m=Object.entries(p).reduce((u,d)=>{let[$,g]=d;const v=e[$]||{},s=Object.entries(v).reduce((l,c)=>{let[y,R]=c;const V=de(R).call(this,g,p,o,...n),b=ce(V);if(l.$data[y]=V,l.$data.$invalid=!b||!!l.$data.$invalid,l.$data.$error=l.$data.$invalid,!b){let C=R.$message||"";const A=R.$params||{};typeof C=="function"&&(C=C({$pending:!1,$invalid:!b,$params:A,$model:g,$response:V})),l.$errors.push({$property:$,$message:C,$params:A,$response:V,$model:g,$pending:!1,$validator:y})}return{$valid:l.$valid&&b,$data:l.$data,$errors:l.$errors}},{$valid:!0,$data:{},$errors:[]});return u.$data[$]=s.$data,u.$errors[$]=s.$errors,{$valid:u.$valid&&s.$valid,$data:u.$data,$errors:u.$errors}},{$valid:!0,$data:{},$errors:{}});return{$valid:i.$valid&&m.$valid,$data:i.$data.concat(m.$data),$errors:i.$errors.concat(m.$errors)}},{$valid:!0,$data:[],$errors:[]})},$message:t=>{let{$response:r}=t;return r?r.$errors.map(n=>Object.values(n).map(a=>a.map(i=>i.$message)).reduce((a,i)=>a.concat(i),[])):[]}}}const q=e=>{if(e=f(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let t in e)return!0;return!1}return!!String(e).length},$e=e=>(e=f(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function O(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=>(n=f(n),!q(n)||t.every(a=>a.test(n)))}var Be=Object.freeze({__proto__:null,withParams:Ie,withMessage:Fe,withAsync:ke,forEach:De,req:q,len:$e,regex:O,unwrap:f,unwrapNormalizedValidator:de,unwrapValidatorResponse:ce,normalizeValidatorObject:B});O(/^[a-zA-Z]*$/);O(/^[a-zA-Z0-9]*$/);O(/^\d*(\.\d+)?$/);const qe=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var Ge=O(qe),Me={$validator:Ge,$message:"Value is not a valid email address",$params:{type:"email"}};function Ue(e){return t=>!q(t)||$e(t)>=f(e)}function He(e){return{$validator:Ue(e),$message:t=>{let{$params:r}=t;return`This field should be at least ${r.min} characters long`},$params:{min:e,type:"minLength"}}}function We(e){return typeof e=="string"&&(e=e.trim()),q(e)}var E={$validator:We,$message:"Value is required",$params:{type:"required"}};function Ze(e){return t=>f(t)===f(e)}function Je(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"other";return{$validator:Ze(e),$message:r=>`The value must be equal to the ${t} value`,$params:{equalTo:e,otherName:t,type:"sameAs"}}}const Ke=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;O(Ke);O(/(^[0-9]*$)|(^-[0-9]+$)/);O(/^[-]?\d*(\.\d+)?$/);function ae(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((r,n)=>(t.includes(n)||(r[n]=f(e[n])),r),{})}function k(e){return typeof e=="function"}function Qe(e){return Ce(e)||Pe(e)}function fe(e,t,r){let n=e;const a=t.split(".");for(let i=0;i<a.length;i++){if(!n[a[i]])return r;n=n[a[i]]}return n}function J(e,t,r){return h(()=>e.some(n=>fe(t,n,{[r]:!1})[r]))}function se(e,t,r){return h(()=>e.reduce((n,a)=>{const i=fe(t,a,{[r]:!1})[r]||[];return n.concat(i)},[]))}function me(e,t,r,n){return e.call(n,f(t),f(r),n)}function pe(e){return e.$valid!==void 0?!e.$valid:!e}function Xe(e,t,r,n,a,i,p){let{$lazy:o,$rewardEarly:m}=a,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],d=arguments.length>8?arguments[8]:void 0,$=arguments.length>9?arguments[9]:void 0,g=arguments.length>10?arguments[10]:void 0;const v=_(!!n.value),s=_(0);r.value=!1;const l=L([t,n].concat(u,g),()=>{if(o&&!n.value||m&&!$.value&&!r.value)return;let c;try{c=me(e,t,d,p)}catch(y){c=Promise.reject(y)}s.value++,r.value=!!s.value,v.value=!1,Promise.resolve(c).then(y=>{s.value--,r.value=!!s.value,i.value=y,v.value=pe(y)}).catch(y=>{s.value--,r.value=!!s.value,i.value=y,v.value=!0})},{immediate:!0,deep:typeof t=="object"});return{$invalid:v,$unwatch:l}}function Ye(e,t,r,n,a,i,p,o){let{$lazy:m,$rewardEarly:u}=n;const d=()=>({}),$=h(()=>{if(m&&!r.value||u&&!o.value)return!1;let g=!0;try{const v=me(e,t,p,i);a.value=v,g=pe(v)}catch(v){a.value=v}return g});return{$unwatch:d,$invalid:$}}function et(e,t,r,n,a,i,p,o,m,u,d){const $=_(!1),g=e.$params||{},v=_(null);let s,l;e.$async?{$invalid:s,$unwatch:l}=Xe(e.$validator,t,$,r,n,v,a,e.$watchTargets,m,u,d):{$invalid:s,$unwatch:l}=Ye(e.$validator,t,r,n,v,a,m,u);const c=e.$message;return{$message:k(c)?h(()=>c(ae({$pending:$,$invalid:s,$params:ae(g),$model:t,$response:v,$validator:i,$propertyPath:o,$property:p}))):c||"",$params:g,$pending:$,$invalid:s,$response:v,$unwatch:l}}function tt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=f(e),r=Object.keys(t),n={},a={},i={};let p=null;return r.forEach(o=>{const m=t[o];switch(!0){case k(m.$validator):n[o]=m;break;case k(m):n[o]={$validator:m};break;case o==="$validationGroups":p=m;break;case o.startsWith("$"):i[o]=m;break;default:a[o]=m}}),{rules:n,nestedValidators:a,config:i,validationGroups:p}}function rt(){}const nt="__root";function ve(e,t,r){if(r)return t?t(e()):e();try{var n=Promise.resolve(e());return t?n.then(t):n}catch(a){return Promise.reject(a)}}function at(e,t){return ve(e,rt,t)}function st(e,t){var r=e();return r&&r.then?r.then(t):t(r)}function ot(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(n){return Promise.reject(n)}}}function it(e,t,r,n,a,i,p,o,m){const u=Object.keys(e),d=n.get(a,e),$=_(!1),g=_(!1),v=_(0);if(d){if(!d.$partial)return d;d.$unwatch(),$.value=d.$dirty.value}const s={$dirty:$,$path:a,$touch:()=>{$.value||($.value=!0)},$reset:()=>{$.value&&($.value=!1)},$commit:()=>{}};return u.length?(u.forEach(l=>{s[l]=et(e[l],t,s.$dirty,i,p,l,r,a,m,g,v)}),s.$externalResults=h(()=>o.value?[].concat(o.value).map((l,c)=>({$propertyPath:a,$property:r,$validator:"$externalResults",$uid:`${a}-externalResult-${c}`,$message:l,$params:{},$response:null,$pending:!1})):[]),s.$invalid=h(()=>{const l=u.some(c=>f(s[c].$invalid));return g.value=l,!!s.$externalResults.value.length||l}),s.$pending=h(()=>u.some(l=>f(s[l].$pending))),s.$error=h(()=>s.$dirty.value?s.$pending.value||s.$invalid.value:!1),s.$silentErrors=h(()=>u.filter(l=>f(s[l].$invalid)).map(l=>{const c=s[l];return D({$propertyPath:a,$property:r,$validator:l,$uid:`${a}-${l}`,$message:c.$message,$params:c.$params,$response:c.$response,$pending:c.$pending})}).concat(s.$externalResults.value)),s.$errors=h(()=>s.$dirty.value?s.$silentErrors.value:[]),s.$unwatch=()=>u.forEach(l=>{s[l].$unwatch()}),s.$commit=()=>{g.value=!0,v.value=Date.now()},n.set(a,e,s),s):(d&&n.set(a,e,s),s)}function lt(e,t,r,n,a,i,p){const o=Object.keys(e);return o.length?o.reduce((m,u)=>(m[u]=X({validations:e[u],state:t,key:u,parentKey:r,resultsCache:n,globalConfig:a,instance:i,externalResults:p}),m),{}):{}}function ut(e,t,r){const n=h(()=>[t,r].filter(s=>s).reduce((s,l)=>s.concat(Object.values(f(l))),[])),a=h({get(){return e.$dirty.value||(n.value.length?n.value.every(s=>s.$dirty):!1)},set(s){e.$dirty.value=s}}),i=h(()=>{const s=f(e.$silentErrors)||[],l=n.value.filter(c=>(f(c).$silentErrors||[]).length).reduce((c,y)=>c.concat(...y.$silentErrors),[]);return s.concat(l)}),p=h(()=>{const s=f(e.$errors)||[],l=n.value.filter(c=>(f(c).$errors||[]).length).reduce((c,y)=>c.concat(...y.$errors),[]);return s.concat(l)}),o=h(()=>n.value.some(s=>s.$invalid)||f(e.$invalid)||!1),m=h(()=>n.value.some(s=>f(s.$pending))||f(e.$pending)||!1),u=h(()=>n.value.some(s=>s.$dirty)||n.value.some(s=>s.$anyDirty)||a.value),d=h(()=>a.value?m.value||o.value:!1),$=()=>{e.$touch(),n.value.forEach(s=>{s.$touch()})},g=()=>{e.$commit(),n.value.forEach(s=>{s.$commit()})},v=()=>{e.$reset(),n.value.forEach(s=>{s.$reset()})};return n.value.length&&n.value.every(s=>s.$dirty)&&$(),{$dirty:a,$errors:p,$invalid:o,$anyDirty:u,$error:d,$pending:m,$touch:$,$reset:v,$silentErrors:i,$commit:g}}function X(e){const t=ot(function(){return H(),st(function(){if(c.$rewardEarly)return Y(),at(re)},function(){return ve(re,function(){return new Promise(w=>{if(!U.value)return w(!M.value);const P=L(U,()=>{w(!M.value),P()})})})})});let{validations:r,state:n,key:a,parentKey:i,childResults:p,resultsCache:o,globalConfig:m={},instance:u,externalResults:d}=e;const $=i?`${i}.${a}`:a,{rules:g,nestedValidators:v,config:s,validationGroups:l}=tt(r),c=Object.assign({},m,s),y=a?h(()=>{const w=f(n);return w?f(w[a]):void 0}):n,R=Object.assign({},f(d)||{}),G=h(()=>{const w=f(d);return a?w?f(w[a]):void 0:w}),V=it(g,y,a,o,$,c,u,G,n),b=lt(v,y,$,o,c,u,G),C={};l&&Object.entries(l).forEach(w=>{let[P,j]=w;C[P]={$invalid:J(j,b,"$invalid"),$error:J(j,b,"$error"),$pending:J(j,b,"$pending"),$errors:se(j,b,"$errors"),$silentErrors:se(j,b,"$silentErrors")}});const{$dirty:A,$errors:he,$invalid:M,$anyDirty:ye,$error:we,$pending:U,$touch:H,$reset:be,$silentErrors:xe,$commit:Y}=ut(V,b,p),_e=a?h({get:()=>f(y),set:w=>{A.value=!0;const P=f(n),j=f(d);j&&(j[a]=R[a]),K(P[a])?P[a].value=w:P[a]=w}}):null;a&&c.$autoDirty&&L(y,()=>{A.value||H();const w=f(d);w&&(w[a]=R[a])},{flush:"sync"});function Re(w){return(p.value||{})[w]}function Ee(){K(d)?d.value=R:Object.keys(R).length===0?Object.keys(d).forEach(w=>{delete d[w]}):Object.assign(d,R)}return D(Object.assign({},V,{$model:_e,$dirty:A,$error:we,$errors:he,$invalid:M,$anyDirty:ye,$pending:U,$touch:H,$reset:be,$path:$||nt,$silentErrors:xe,$validate:t,$commit:Y},p&&{$getResultsForChild:Re,$clearExternalResults:Ee,$validationGroups:C},b))}class ct{constructor(){this.storage=new Map}set(t,r,n){this.storage.set(t,{rules:r,result:n})}checkRulesValidity(t,r,n){const a=Object.keys(n),i=Object.keys(r);return i.length!==a.length||!i.every(o=>a.includes(o))?!1:i.every(o=>r[o].$params?Object.keys(r[o].$params).every(m=>f(n[o].$params[m])===f(r[o].$params[m])):!0)}get(t,r){const n=this.storage.get(t);if(!n)return;const{rules:a,result:i}=n,p=this.checkRulesValidity(t,r,a),o=i.$unwatch?i.$unwatch:()=>({});return p?i:{$dirty:i.$dirty,$partial:!0,$unwatch:o}}}const I={COLLECT_ALL:!0,COLLECT_NONE:!1},oe=Symbol("vuelidate#injectChildResults"),ie=Symbol("vuelidate#removeChildResults");function dt(e){let{$scope:t,instance:r}=e;const n={},a=_([]),i=h(()=>a.value.reduce((d,$)=>(d[$]=f(n[$]),d),{}));function p(d,$){let{$registerAs:g,$scope:v,$stopPropagation:s}=$;s||t===I.COLLECT_NONE||v===I.COLLECT_NONE||t!==I.COLLECT_ALL&&t!==v||(n[g]=d,a.value.push(g))}r.__vuelidateInjectInstances=[].concat(r.__vuelidateInjectInstances||[],p);function o(d){a.value=a.value.filter($=>$!==d),delete n[d]}r.__vuelidateRemoveInstances=[].concat(r.__vuelidateRemoveInstances||[],o);const m=ee(oe,[]);te(oe,r.__vuelidateInjectInstances);const u=ee(ie,[]);return te(ie,r.__vuelidateRemoveInstances),{childResults:i,sendValidationResultsToParent:m,removeValidationResultsFromParent:u}}function ge(e){return new Proxy(e,{get(t,r){return typeof t[r]=="object"?ge(t[r]):h(()=>t[r])}})}let le=0;function ue(e,t){var r;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(n=e,e=void 0,t=void 0);let{$registerAs:a,$scope:i=I.COLLECT_ALL,$stopPropagation:p,$externalResults:o,currentVueInstance:m}=n;const u=m||((r=je())===null||r===void 0?void 0:r.proxy),d=u?u.$options:{};a||(le+=1,a=`_vuelidate_${le}`);const $=_({}),g=new ct,{childResults:v,sendValidationResultsToParent:s,removeValidationResultsFromParent:l}=u?dt({$scope:i,instance:u}):{childResults:_({})};if(!e&&d.validations){const c=d.validations;t=_({}),Oe(()=>{t.value=u,L(()=>k(c)?c.call(t.value,new ge(t.value)):c,y=>{$.value=X({validations:y,state:t,childResults:v,resultsCache:g,globalConfig:n,instance:u,externalResults:o||u.vuelidateExternalResults})},{immediate:!0})}),n=d.validationsConfig||n}else{const c=K(e)||Qe(e)?e:D(e||{});L(c,y=>{$.value=X({validations:y,state:t,childResults:v,resultsCache:g,globalConfig:n,instance:u??{},externalResults:o})},{immediate:!0})}return u&&(s.forEach(c=>c($,{$registerAs:a,$scope:i,$stopPropagation:p})),Ve(()=>l.forEach(c=>c(a)))),h(()=>Object.assign({},f($.value),v.value))}const $t={setup(){const e=D({firstName:"",lastName:"",email:"",password:{password:"",confirm:""}}),t=a=>a.sameAs,r=h(()=>({firstName:{required:E},lastName:{required:E},email:{required:E,email:Me},password:{password:{required:E,minLength:He(6)},confirm:{required:E,sameAs:Je(e.password.password),mustBe:Be.withMessage("Passwords don't match.",t)}}})),n=ue(r,e);return{state:e,v$:n}},data(){return{v$:ue(),firstName:"",lastName:"",email:"",password:{password:"",confirm:""}}},methods:{enterAsGuest(e){e.preventDefault(),ne.push("/home")},submitForm(e){e.preventDefault(),this.v$.$validate();const t={username:this.name,email:this.email,password:this.password};Te.post("http://localhost:8080/api/auth/signup",t,{}).then(r=>{r.status===200?(this.showError=!1,this.message="Signup accepted",this.name="",this.email="",this.password="",this.password="",ne.push("/home")):(this.message="",this.message="Signup not accepted",this.name="",this.email="",this.password="",this.password="")}).catch(r=>{console.error("Error:",r)})}},validations(){return{name:{required:E},email:{required:E},password:{password:{required:E},confirm:{required:E}}}}},ft={id:"app","data-theme":"light"},mt={id:"Signup",onload:"loadContent()"},pt=x("h1",null,"Enter the Details",-1),vt={id:"form-post"},gt={key:0},ht={key:1},yt={key:2},wt=x("div",{id:"bars"},[x("div")],-1),bt=x("div",{id:"strength"},null,-1);function xt(e,t,r,n,a,i){const p=Ne("router-link");return S(),T("div",ft,[x("div",mt,[pt,x("form",vt,[N(x("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>n.state.firstName=o),placeholder:"first name",id:"first_name",class:"name_input"},null,512),[[z,n.state.firstName]]),N(x("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>n.state.lastName=o),placeholder:"last name",id:"last_name",class:"name_input"},null,512),[[z,n.state.lastName]]),N(x("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=o=>n.state.email=o),placeholder:"email",id:"signup_email",class:"email_input"},null,512),[[z,n.state.email]]),a.v$.email.$error?(S(),T("span",gt,W(a.v$.email.$errors[0].$message),1)):Z("",!0),N(x("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=o=>n.state.password.password=o),placeholder:"password",id:"signup_password",class:"password_input"},null,512),[[z,n.state.password.password]]),a.v$.password.password.$error?(S(),T("span",ht,W(a.v$.password.password.$errors[0].$message),1)):Z("",!0),N(x("input",{required:"",spellcheck:"false",type:"password","onUpdate:modelValue":t[4]||(t[4]=o=>n.state.password.confirm=o),placeholder:"confirm password",name:"confirm_password",id:"confirm_password"},null,512),[[z,n.state.password.confirm]]),a.v$.password.confirm.$error?(S(),T("span",yt,W(a.v$.password.confirm.$errors[0].$message),1)):Z("",!0),wt,bt,x("input",{type:"submit",class:"submit_button",value:"Submit Information",onClick:t[5]||(t[5]=(...o)=>i.submitForm&&i.submitForm(...o))}),ze(p,{to:"/home",class:"guest_button"},{default:Le(()=>[Se("Enter as guest")]),_:1})])])])}const Et=Ae($t,[["render",xt]]);export{Et as default};
